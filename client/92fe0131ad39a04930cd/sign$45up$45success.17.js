(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{147:function(e,t,n){"use strict";var c=n(0),r=n(13),a=n(156),o=n(148),i=n(150);function s(e){Object(c.h)(e,"svelte-1rriw57",'@keyframes svelte-1rriw57-spinner{to{transform:rotate(360deg)}}.lluis-button.svelte-1rriw57{display:inline-block;max-width:100%}div.svelte-1rriw57>*{display:inline-block;border-radius:var(--button-radius-small);padding:6px 20px;margin:4px;transition-property:filter;transition-duration:0.1s;transition-timing-function:ease-in-out}div.svelte-1rriw57>* .icon{width:unset;height:unset;margin-right:8px}div.svelte-1rriw57>*:hover,div.svelte-1rriw57>*:focus{filter:brightness(1.2)}div.svelte-1rriw57>*:active{filter:brightness(0.9);transform:scale(0.9)}.spinner.svelte-1rriw57{display:flex;width:16px;height:16px;align-items:center;justify-content:center;animation:svelte-1rriw57-spinner 0.6s linear infinite}.spinner.svelte-1rriw57 .icon{display:block;margin:0 !important}div[data-style="primary"].svelte-1rriw57>*{border:1px solid var(--button-primary-border);color:var(--button-primary-text-color) !important;background-color:var(--button-primary-background-color) !important}div[data-style="secondary"].svelte-1rriw57>*{border:1px solid var(--button-secondary-border);color:var(--button-secondary-text-color) !important;background-color:var(--button-secondary-background-color) !important}div[data-style="key"].svelte-1rriw57>*{margin:6px;padding:6px 0;text-align:center;width:calc(1em + 22px);border:1px solid var(--button-key-border);color:var(--button-key-text-color) !important;background-color:var(--button-key-background-color) !important}.small.svelte-1rriw57>*{font-size:16px;padding:3px 12px}.large.svelte-1rriw57>*{font-size:20px;padding:9px 14px}')}function l(e){let t,n;return t=new i.a({props:{$$slots:{"icon-left":[j],default:[d]},$$scope:{ctx:e}}}),{c(){Object(c.y)(t.$$.fragment)},l(e){Object(c.o)(t.$$.fragment,e)},m(e,r){Object(c.V)(t,e,r),n=!0},p(e,n){const c={};4096&n&&(c.$$scope={dirty:n,ctx:e}),t.$set(c)},i(e){n||(Object(c.ob)(t.$$.fragment,e),n=!0)},o(e){Object(c.pb)(t.$$.fragment,e),n=!1},d(e){Object(c.C)(t,e)}}}function b(e){let t,n,r;return n=new o.a({props:{icon:"spinner"}}),{c(){t=Object(c.F)("span"),Object(c.y)(n.$$.fragment),this.h()},l(e){t=Object(c.p)(e,"SPAN",{class:!0});var r=Object(c.n)(t);Object(c.o)(n.$$.fragment,r),r.forEach(c.E),this.h()},h(){Object(c.j)(t,"class","spinner svelte-1rriw57")},m(e,a){Object(c.R)(e,t,a),Object(c.V)(n,t,null),r=!0},p:c.W,i(e){r||(Object(c.ob)(n.$$.fragment,e),r=!0)},o(e){Object(c.pb)(n.$$.fragment,e),r=!1},d(e){e&&Object(c.E)(t),Object(c.C)(n)}}}function d(e){let t;const n=e[10].default,r=Object(c.B)(n,e,e[12],null);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,n){r&&r.m(e,n),t=!0},p(e,a){r&&r.p&&(!t||4096&a)&&Object(c.rb)(r,n,e,e[12],t?Object(c.K)(n,e[12],a,null):Object(c.J)(e[12]),null)},i(e){t||(Object(c.ob)(r,e),t=!0)},o(e){Object(c.pb)(r,e),t=!1},d(e){r&&r.d(e)}}}function j(e){let t;return{c(){t=Object(c.F)("div"),this.h()},l(e){t=Object(c.p)(e,"DIV",{slot:!0,class:!0}),Object(c.n)(t).forEach(c.E),this.h()},h(){Object(c.j)(t,"slot","icon-left"),Object(c.j)(t,"class","svelte-1rriw57")},m(e,n){Object(c.R)(e,t,n)},p:c.W,d(e){e&&Object(c.E)(t)}}}function O(e){let t,n,r,a;const o=[b,l],i=[];function s(e,t){return e[2]?0:1}return t=s(e),n=i[t]=o[t](e),{c(){n.c(),r=Object(c.G)()},l(e){n.l(e),r=Object(c.G)()},m(e,n){i[t].m(e,n),Object(c.R)(e,r,n),a=!0},p(e,a){let l=t;t=s(e),t===l?i[t].p(e,a):(Object(c.N)(),Object(c.pb)(i[l],1,1,()=>{i[l]=null}),Object(c.m)(),n=i[t],n?n.p(e,a):(n=i[t]=o[t](e),n.c()),Object(c.ob)(n,1),n.m(r.parentNode,r))},i(e){a||(Object(c.ob)(n),a=!0)},o(e){Object(c.pb)(n),a=!1},d(e){i[t].d(e),e&&Object(c.E)(r)}}}function u(e){let t,n;return{c(){t=Object(c.F)("a"),n=Object(c.mb)(" "),this.h()},l(e){t=Object(c.p)(e,"A",{class:!0,href:!0});var r=Object(c.n)(t);n=Object(c.s)(r," "),r.forEach(c.E),this.h()},h(){Object(c.j)(t,"class","hidden-link"),Object(c.j)(t,"href",e[3])},m(e,r){Object(c.R)(e,t,r),Object(c.g)(t,n)},p(e,n){8&n&&Object(c.j)(t,"href",e[3])},d(e){e&&Object(c.E)(t)}}}function p(e){let t,n,r,o,i;n=new a.a({props:{href:e[0],type:e[4],target:e[6],tabIndex:e[7],disabled:e[8],$$slots:{default:[O]},$$scope:{ctx:e}}}),n.$on("click",e[11]);let s=null!=e[3]&&u(e);return{c(){t=Object(c.F)("div"),Object(c.y)(n.$$.fragment),r=Object(c.jb)(),s&&s.c(),o=Object(c.G)(),this.h()},l(e){t=Object(c.p)(e,"DIV",{class:!0,"data-style":!0});var a=Object(c.n)(t);Object(c.o)(n.$$.fragment,a),a.forEach(c.E),r=Object(c.r)(e),s&&s.l(e),o=Object(c.G)(),this.h()},h(){Object(c.j)(t,"class","lluis-button svelte-1rriw57"),Object(c.j)(t,"data-style",e[5]),Object(c.nb)(t,"small","small"===e[1]),Object(c.nb)(t,"large","large"===e[1])},m(e,a){Object(c.R)(e,t,a),Object(c.V)(n,t,null),Object(c.R)(e,r,a),s&&s.m(e,a),Object(c.R)(e,o,a),i=!0},p(e,[r]){const a={};1&r&&(a.href=e[0]),16&r&&(a.type=e[4]),64&r&&(a.target=e[6]),128&r&&(a.tabIndex=e[7]),256&r&&(a.disabled=e[8]),4100&r&&(a.$$scope={dirty:r,ctx:e}),n.$set(a),(!i||32&r)&&Object(c.j)(t,"data-style",e[5]),(!i||2&r)&&Object(c.nb)(t,"small","small"===e[1]),(!i||2&r)&&Object(c.nb)(t,"large","large"===e[1]),null!=e[3]?s?s.p(e,r):(s=u(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i(e){i||(Object(c.ob)(n.$$.fragment,e),i=!0)},o(e){Object(c.pb)(n.$$.fragment,e),i=!1},d(e){e&&Object(c.E)(t),Object(c.C)(n),e&&Object(c.E)(r),s&&s.d(e),e&&Object(c.E)(o)}}}function f(e,t,n){let{$$slots:c={},$$scope:a}=t;const o=Object(r.b)();let{href:i=null}=t,{size:s="normal"}=t,{loading:l=!1}=t,{asHref:b=null}=t,{type:d="button"}=t,{style:j="secondary"}=t,{target:O}=t,{tabIndex:u}=t,{disabled:p=!1}=t;return e.$$set=e=>{"href"in e&&n(0,i=e.href),"size"in e&&n(1,s=e.size),"loading"in e&&n(2,l=e.loading),"asHref"in e&&n(3,b=e.asHref),"type"in e&&n(4,d=e.type),"style"in e&&n(5,j=e.style),"target"in e&&n(6,O=e.target),"tabIndex"in e&&n(7,u=e.tabIndex),"disabled"in e&&n(8,p=e.disabled),"$$scope"in e&&n(12,a=e.$$scope)},[i,s,l,b,d,j,O,u,p,o,c,()=>o("click"),a]}class g extends c.b{constructor(e){super(),Object(c.Q)(this,e,f,p,c.db,{href:0,size:1,loading:2,asHref:3,type:4,style:5,target:6,tabIndex:7,disabled:8},s)}}t.a=g},150:function(e,t,n){"use strict";var c=n(0);function r(e){Object(c.h)(e,"svelte-1yrjn1q","div.svelte-1yrjn1q{display:flex}")}function a(e){let t,n;const r=e[5].default,a=Object(c.B)(r,e,e[4],null);return{c(){t=Object(c.F)("div"),a&&a.c(),this.h()},l(e){t=Object(c.p)(e,"DIV",{style:!0,class:!0});var n=Object(c.n)(t);a&&a.l(n),n.forEach(c.E),this.h()},h(){Object(c.j)(t,"style",e[0]),Object(c.j)(t,"class","svelte-1yrjn1q")},m(e,r){Object(c.R)(e,t,r),a&&a.m(t,null),n=!0},p(e,[t]){a&&a.p&&(!n||16&t)&&Object(c.rb)(a,r,e,e[4],n?Object(c.K)(r,e[4],t,null):Object(c.J)(e[4]),null)},i(e){n||(Object(c.ob)(a,e),n=!0)},o(e){Object(c.pb)(a,e),n=!1},d(e){e&&Object(c.E)(t),a&&a.d(e)}}}function o(e,t,n){let{$$slots:c={},$$scope:r}=t,{direction:a="row"}=t,{align:o="normal"}=t,{justify:i="normal"}=t,s=`\n  flex-direction: ${a};\n  align-items: ${o};\n  justify-content: ${i};\n  `;return e.$$set=e=>{"direction"in e&&n(1,a=e.direction),"align"in e&&n(2,o=e.align),"justify"in e&&n(3,i=e.justify),"$$scope"in e&&n(4,r=e.$$scope)},[s,a,o,i,r,c]}class i extends c.b{constructor(e){super(),Object(c.Q)(this,e,o,a,c.db,{direction:1,align:2,justify:3},r)}}t.a=i},155:function(e,t,n){"use strict";(function(e){var c=n(161),r=n(157),a=n(151),o=n(37);let i,s,l;const b=t=>{const r=new(void 0!==e.env.JEST_WORKER_ID?n(149):n(149).default)(t).setMaxListeners(c.a.database.maxNumberOfListeners);return r.changes({since:"now",live:!0,include_docs:!0}).on("change",()=>{if(void 0!==e.env.JEST_WORKER_ID)return;n(152).default.update(e=>({...e,dbUpdatedAt:Date.now()}))}),r};if(!0===Object(o.a)()){const e=n(152).default,t=n(149).default;s=new t(`${c.a.database.remote}/${a.a.get("loginDb")}`,{skip_setup:!0,live:!0}),i=b(c.a.database.local),window._DB=i,a.a.get("loginDb")===Object(r.a)("JohnDoe")&&e.update(e=>({...e,user:{name:"JohnDoe"},online:!0})),a.a.get("loginDb")&&c.a.features.authEnabled?fetch(c.a.database.remote+"/_session",{credentials:"include"}).then(e=>e.json()).then(t=>{null!==t.userCtx.name&&(e.update(e=>({...e,user:{name:t.userCtx.name}})),o())}):e.update(e=>({...e,online:!1})),window._fakeLogin=()=>{a.a.set("loginDb",Object(r.a)("JohnDoe"),{expires:c.a.database.auth.expireDays}),window.location.href="/"},window._Login=async(t,n)=>{if(!1===window._test_credentials_correct)throw new Error("Incorrect username or password");if(!0===window._test_credentials_correct)return window._fakeLogin();const o=await(await fetch(c.a.database.remote+"/_session",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})})).json();if(o.error){if("unauthorized"===o.error)throw new Error("Username or password is incorrect");throw new Error("Couldn't log in. Please try again later")}e.update(e=>({...e,online:null})),a.a.set("loginDb",Object(r.a)(t),{expires:c.a.database.auth.expireDays}),window.location.reload(!1),window.location.href=""},window._Logout=async()=>{try{l&&(await l.cancel(),await fetch(c.a.database.remote+"/_session",{method:"delete"}))}finally{a.a.remove("loginDb"),e.update(e=>({...e,user:null,online:null})),await i.destroy(),window.location.reload(!1)}};const o=()=>{l=i.sync(s).on("complete",(function(){e.update(e=>({...e,online:!0}))})).on("error",(function(){e.update(e=>({...e,online:!1}))}))}}void 0!==e.env.JEST_WORKER_ID&&(i=b(c.a.database.local),i.__reset=async()=>{const e=await i.allDocs();await Promise.all(e.rows.map((function(e){return i.remove(e.id,e.value.rev)})))}),t.a=i}).call(this,n(5))},157:function(e,t,n){"use strict";t.a=e=>"userdb-"+(e=>e.split("").map(e=>e.charCodeAt(0).toString(16)).join(""))(e)},166:function(e,t){},588:function(e,t,n){"use strict";n.r(t);var c=n(0),r=(n(155),n(153)),a=n(147);function o(e){let t;return{c(){t=Object(c.mb)("Log in")},l(e){t=Object(c.s)(e,"Log in")},m(e,n){Object(c.R)(e,t,n)},d(e){e&&Object(c.E)(t)}}}function i(e){let t,n,i,s,l,b,d,j,O,u,p,f;return t=new r.a({}),p=new a.a({props:{href:"/login",$$slots:{default:[o]},$$scope:{ctx:e}}}),{c(){Object(c.y)(t.$$.fragment),n=Object(c.jb)(),i=Object(c.F)("section"),s=Object(c.F)("div"),l=Object(c.F)("h2"),b=Object(c.mb)("Registration successful!"),d=Object(c.jb)(),j=Object(c.F)("p"),O=Object(c.mb)("You can now log in."),u=Object(c.jb)(),Object(c.y)(p.$$.fragment),this.h()},l(e){Object(c.o)(t.$$.fragment,e),n=Object(c.r)(e),i=Object(c.p)(e,"SECTION",{class:!0});var r=Object(c.n)(i);s=Object(c.p)(r,"DIV",{class:!0});var a=Object(c.n)(s);l=Object(c.p)(a,"H2",{class:!0});var o=Object(c.n)(l);b=Object(c.s)(o,"Registration successful!"),o.forEach(c.E),d=Object(c.r)(a),j=Object(c.p)(a,"P",{});var f=Object(c.n)(j);O=Object(c.s)(f,"You can now log in."),f.forEach(c.E),u=Object(c.r)(a),Object(c.o)(p.$$.fragment,a),a.forEach(c.E),r.forEach(c.E),this.h()},h(){Object(c.j)(l,"class","is-size-2"),Object(c.j)(s,"class","container"),Object(c.j)(i,"class","section")},m(e,r){Object(c.V)(t,e,r),Object(c.R)(e,n,r),Object(c.R)(e,i,r),Object(c.g)(i,s),Object(c.g)(s,l),Object(c.g)(l,b),Object(c.g)(s,d),Object(c.g)(s,j),Object(c.g)(j,O),Object(c.g)(s,u),Object(c.V)(p,s,null),f=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),p.$set(n)},i(e){f||(Object(c.ob)(t.$$.fragment,e),Object(c.ob)(p.$$.fragment,e),f=!0)},o(e){Object(c.pb)(t.$$.fragment,e),Object(c.pb)(p.$$.fragment,e),f=!1},d(e){Object(c.C)(t,e),e&&Object(c.E)(n),e&&Object(c.E)(i),Object(c.C)(p)}}}class s extends c.b{constructor(e){super(),Object(c.Q)(this,e,null,i,c.db,{})}}t.default=s}}]);